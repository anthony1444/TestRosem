{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { CategoryModel } from 'src/app/core/marketplace-api/models/category.model';\nimport { OfferModel } from 'src/app/core/marketplace-api/models/offer.model';\nlet OfferCreationComponent = class OfferCreationComponent {\n  constructor(formBuilder, markeplaceApiService, dialogRef) {\n    this.formBuilder = formBuilder;\n    this.markeplaceApiService = markeplaceApiService;\n    this.dialogRef = dialogRef;\n  }\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      title: ['', Validators.required],\n      picture: ['', Validators.required],\n      description: ['', Validators.required],\n      location: ['', Validators.required],\n      categoryId: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    const offer = new OfferModel();\n    if (this.form.valid) {\n      offer.category = new CategoryModel();\n      offer.categoryId = this.form.value.categoryId;\n      offer.description = this.form.value.description;\n      offer.location = this.form.value.location;\n      offer.pictureUrl = this.form.value.picture;\n      offer.title = this.form.value.title;\n      this.markeplaceApiService.addOffer(offer).subscribe({\n        next: data => {\n          console.log(data);\n        }\n      });\n      console.log(this.form.value);\n    } else {\n      // Mostrar mensajes de error o realizar acciones adicionales\n    }\n    this.markeplaceApiService.addOffer(offer);\n  }\n  closeDialog() {\n    this.dialogRef.close();\n  }\n};\n__decorate([Input()], OfferCreationComponent.prototype, \"categories\", void 0);\nOfferCreationComponent = __decorate([Component({\n  selector: 'app-offer-creation',\n  templateUrl: './offer-creation.component.html',\n  styleUrls: ['./offer-creation.component.scss']\n})], OfferCreationComponent);\nexport { OfferCreationComponent };","map":{"version":3,"names":["Component","Input","Validators","CategoryModel","OfferModel","OfferCreationComponent","constructor","formBuilder","markeplaceApiService","dialogRef","ngOnInit","form","group","title","required","picture","description","location","categoryId","onSubmit","offer","valid","category","value","pictureUrl","addOffer","subscribe","next","data","console","log","closeDialog","close","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Datos\\Desktop\\Github\\marketplace-master\\WebApp\\marketplace\\src\\app\\offers\\offer-creation\\offer-creation.component.ts"],"sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, UntypedFormGroup, Validators} from '@angular/forms';\nimport { MarketplaceApiService } from 'src/app/core/marketplace-api/marketplace-api.service';\nimport { CategoryModel } from 'src/app/core/marketplace-api/models/category.model';\nimport { OfferModel } from 'src/app/core/marketplace-api/models/offer.model';\n\n@Component({\n  selector: 'app-offer-creation',\n  templateUrl: './offer-creation.component.html',\n  styleUrls: ['./offer-creation.component.scss']\n})\nexport class OfferCreationComponent implements OnInit {\n\n  // offerForm: UntypedFormGroup;\n\n  @Input()\n  categories: string[];\n  form: FormGroup;\n\n  constructor(private formBuilder: FormBuilder, public markeplaceApiService: MarketplaceApiService, public dialogRef: MatDialogRef<) {\n\n  }\n  ngOnInit(): void {\n    this.form = this.formBuilder.group({\n      title: ['', Validators.required],\n      picture: ['', Validators.required],\n      description: ['', Validators.required],\n      location: ['', Validators.required],\n      categoryId: ['', Validators.required]\n    });\n  }\n\n  onSubmit() {\n    const offer =  new OfferModel();\n    if (this.form.valid) {\n      offer.category =  new CategoryModel();\n      offer.categoryId = this.form.value.categoryId;\n      offer.description = this.form.value.description;\n      offer.location = this.form.value.location;\n      offer.pictureUrl = this.form.value.picture;\n      offer.title = this.form.value.title;\n\n      this.markeplaceApiService.addOffer(offer).subscribe({next:(data=>{\n        console.log(data);\n\n      })})\n      console.log(this.form.value);\n    } else {\n      // Mostrar mensajes de error o realizar acciones adicionales\n    }\n    this.markeplaceApiService.addOffer(offer)\n  }\n\n  closeDialog(): void {\n    this.dialogRef.close();\n  }\n}\n"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,KAAK,QAAe,eAAe;AACtD,SAAkDC,UAAU,QAAO,gBAAgB;AAEnF,SAASC,aAAa,QAAQ,oDAAoD;AAClF,SAASC,UAAU,QAAQ,iDAAiD;AAOrE,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAQjCC,YAAoBC,WAAwB,EAASC,oBAA2C,EAASC,SAAwB;IAA7G,KAAAF,WAAW,GAAXA,WAAW;IAAsB,KAAAC,oBAAoB,GAApBA,oBAAoB;IAAgC,KAAAC,SAAS,GAATA,SAAS;EAElH;EACAC,QAAQA,CAAA;IACN,IAAI,CAACC,IAAI,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MACjCC,KAAK,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACY,QAAQ,CAAC;MAChCC,OAAO,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACY,QAAQ,CAAC;MAClCE,WAAW,EAAE,CAAC,EAAE,EAAEd,UAAU,CAACY,QAAQ,CAAC;MACtCG,QAAQ,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACY,QAAQ,CAAC;MACnCI,UAAU,EAAE,CAAC,EAAE,EAAEhB,UAAU,CAACY,QAAQ;KACrC,CAAC;EACJ;EAEAK,QAAQA,CAAA;IACN,MAAMC,KAAK,GAAI,IAAIhB,UAAU,EAAE;IAC/B,IAAI,IAAI,CAACO,IAAI,CAACU,KAAK,EAAE;MACnBD,KAAK,CAACE,QAAQ,GAAI,IAAInB,aAAa,EAAE;MACrCiB,KAAK,CAACF,UAAU,GAAG,IAAI,CAACP,IAAI,CAACY,KAAK,CAACL,UAAU;MAC7CE,KAAK,CAACJ,WAAW,GAAG,IAAI,CAACL,IAAI,CAACY,KAAK,CAACP,WAAW;MAC/CI,KAAK,CAACH,QAAQ,GAAG,IAAI,CAACN,IAAI,CAACY,KAAK,CAACN,QAAQ;MACzCG,KAAK,CAACI,UAAU,GAAG,IAAI,CAACb,IAAI,CAACY,KAAK,CAACR,OAAO;MAC1CK,KAAK,CAACP,KAAK,GAAG,IAAI,CAACF,IAAI,CAACY,KAAK,CAACV,KAAK;MAEnC,IAAI,CAACL,oBAAoB,CAACiB,QAAQ,CAACL,KAAK,CAAC,CAACM,SAAS,CAAC;QAACC,IAAI,EAAEC,IAAI,IAAE;UAC/DC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QAEnB;MAAE,CAAC,CAAC;MACJC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,IAAI,CAACY,KAAK,CAAC;KAC7B,MAAM;MACL;IAAA;IAEF,IAAI,CAACf,oBAAoB,CAACiB,QAAQ,CAACL,KAAK,CAAC;EAC3C;EAEAW,WAAWA,CAAA;IACT,IAAI,CAACtB,SAAS,CAACuB,KAAK,EAAE;EACxB;CACD;AAxCCC,UAAA,EADChC,KAAK,EAAE,C,yDACa;AALVI,sBAAsB,GAAA4B,UAAA,EALlCjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACW/B,sBAAsB,CA6ClC;SA7CYA,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}