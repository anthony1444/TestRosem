{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet OfferListComponent = class OfferListComponent {\n  constructor(markeplaceApiService, dialog) {\n    this.markeplaceApiService = markeplaceApiService;\n    this.dialog = dialog;\n    this.pageSize = 10;\n    this.page = 10;\n    this.offers = [];\n    this.total = 0;\n    this.totalPages = 0;\n  }\n  ngOnInit() {\n    this.markeplaceApiService.getOffersCount().subscribe(data => {\n      this.total = data;\n      this.totalPages = Math.round(this.total / this.pageSize);\n      this.numbers = Array.from({\n        length: this.page\n      }, (v, k) => k + 1);\n    });\n    this.markeplaceApiService.getOffers(this.page, this.pageSize).subscribe({\n      next: offers => {\n        this.offers = offers;\n      }\n    });\n  }\n  getOffersPage(page, pageSize) {\n    this.markeplaceApiService.getOffers(page, pageSize).subscribe({\n      next: offers => {\n        this.offers = offers;\n      }\n    });\n  }\n  getNextOffersPage(page) {\n    if (this.numbers[this.page - 1] === this.totalPages) {\n      return;\n    }\n    this.numbers = this.numbers.map(n => n + 1);\n    this.getOffersPage(this.pageSize, this.numbers[this.page - 1]);\n  }\n  getPreviousOffersPage(page) {\n    if (this.numbers[0] === 1) {\n      return;\n    }\n    this.numbers = this.numbers.map(n => n - 1);\n    this.getOffersPage(this.pageSize, this.numbers[0]);\n  }\n  getFirstOffersPage() {\n    if (this.numbers[0] === 1) {\n      return;\n    }\n    this.numbers = Array.from({\n      length: this.page\n    }, (v, k) => k + 1);\n  }\n  getLastOffersPage() {\n    if (this.numbers[this.page - 1] === this.totalPages) {\n      return;\n    }\n    const lastNumbers = this.totalPages - 10;\n    this.getFirstOffersPage();\n    this.numbers = this.numbers.map(n => n + lastNumbers);\n  }\n  openDialog() {}\n};\nOfferListComponent = __decorate([Component({\n  selector: \"app-offer-list\",\n  templateUrl: \"./offer-list.component.html\",\n  styleUrls: [\"./offer-list.component.scss\"]\n})], OfferListComponent);\nexport { OfferListComponent };","map":{"version":3,"names":["Component","OfferListComponent","constructor","markeplaceApiService","dialog","pageSize","page","offers","total","totalPages","ngOnInit","getOffersCount","subscribe","data","Math","round","numbers","Array","from","length","v","k","getOffers","next","getOffersPage","getNextOffersPage","map","n","getPreviousOffersPage","getFirstOffersPage","getLastOffersPage","lastNumbers","openDialog","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Datos\\Desktop\\Github\\marketplace-master\\WebApp\\marketplace\\src\\app\\offers\\offer-list\\offer-list.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { MarketplaceApiService } from \"src/app/core/marketplace-api/marketplace-api.service\";\nimport { OfferModel } from \"src/app/core/marketplace-api/models/offer.model\";\nimport {MatDialog, MatDialogRef, MatDialogModule} from '@angular/material/dialog';\n\n@Component({\n  selector: \"app-offer-list\",\n  templateUrl: \"./offer-list.component.html\",\n  styleUrls: [\"./offer-list.component.scss\"],\n})\nexport class OfferListComponent implements OnInit {\n  pageSize = 10;\n  page = 10;\n  offers: OfferModel[] = [];\n  total = 0;\n  totalPages = 0;\n  numbers: number[];\n\n\n  constructor(public markeplaceApiService: MarketplaceApiService, public dialog:Mat) {}\n\n  ngOnInit(): void {\n    this.markeplaceApiService.getOffersCount().subscribe((data) => {\n      this.total = data;\n      this.totalPages = Math.round(this.total / this.pageSize);\n      this.numbers =  Array.from({length:this.page},(v,k)=>k+1);\n    });\n\n    this.markeplaceApiService.getOffers(this.page, this.pageSize).subscribe({\n      next: (offers: OfferModel[]) => {\n        this.offers = offers;\n      },\n    });\n  }\n\n  getOffersPage(page:number,pageSize:number) {\n    this.markeplaceApiService.getOffers(page, pageSize).subscribe({\n      next: (offers: OfferModel[]) => {\n        this.offers = offers;\n      },\n    });\n  }\n\n  getNextOffersPage(page:number){\n    if (this.numbers[this.page-1]=== this.totalPages) {\n      return;\n    }\n    this.numbers = this.numbers.map(n => n + 1);\n    this.getOffersPage(this.pageSize,this.numbers[this.page-1]);\n  }\n\n  getPreviousOffersPage(page:number){\n    if (this.numbers[0]=== 1) {\n      return;\n    }\n    this.numbers = this.numbers.map(n => n - 1);\n    this.getOffersPage(this.pageSize,this.numbers[0]);\n  }\n\n\n  getFirstOffersPage(){\n    if (this.numbers[0]=== 1) {\n      return;\n    }\n    this.numbers =  Array.from({length:this.page},(v,k)=>k+1);\n  }\n\n  getLastOffersPage(){\n    if (this.numbers[this.page-1]=== this.totalPages) {\n      return;\n    }\n    const lastNumbers = this.totalPages - 10;\n    this.getFirstOffersPage();\n    this.numbers = this.numbers.map(n => n + lastNumbers);\n\n  }\n\n  openDialog(){\n\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}