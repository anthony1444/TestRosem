{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { CategoryModel } from 'src/app/core/marketplace-api/models/category.model';\nimport { OfferModel } from 'src/app/core/marketplace-api/models/offer.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/marketplace-api/marketplace-api.service\";\nexport class OfferCreationComponent {\n  constructor(formBuilder, markeplaceApiService) {\n    this.formBuilder = formBuilder;\n    this.markeplaceApiService = markeplaceApiService;\n  }\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      title: ['', Validators.required],\n      picture: ['', Validators.required],\n      description: ['', Validators.required],\n      location: ['', Validators.required],\n      categoryId: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    const offer = new OfferModel();\n    if (this.form.valid) {\n      offer.category = new CategoryModel();\n      offer.categoryId = this.form.value.categoryId;\n      offer.description = this.form.value.description;\n      offer.location = this.form.value.location;\n      offer.pictureUrl = this.form.value.picture;\n      offer.title = this.form.value.title;\n      this.markeplaceApiService.addOffer(offer).subscribe({\n        next: data => {\n          console.log(data);\n        }\n      });\n      console.log(this.form.value);\n    } else {\n      // Mostrar mensajes de error o realizar acciones adicionales\n    }\n    this.markeplaceApiService.addOffer(offer);\n  }\n  static #_ = this.ɵfac = function OfferCreationComponent_Factory(t) {\n    return new (t || OfferCreationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MarketplaceApiService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OfferCreationComponent,\n    selectors: [[\"app-offer-creation\"]],\n    inputs: {\n      categories: \"categories\"\n    },\n    decls: 0,\n    vars: 0,\n    template: function OfferCreationComponent_Template(rf, ctx) {},\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","CategoryModel","OfferModel","OfferCreationComponent","constructor","formBuilder","markeplaceApiService","ngOnInit","form","group","title","required","picture","description","location","categoryId","onSubmit","offer","valid","category","value","pictureUrl","addOffer","subscribe","next","data","console","log","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","MarketplaceApiService","_2","selectors","inputs","categories","decls","vars","template","OfferCreationComponent_Template","rf","ctx","styles"],"sources":["D:\\Datos\\Desktop\\Github\\marketplace-master\\WebApp\\marketplace\\src\\app\\offers\\offer-creation\\offer-creation.component.ts"],"sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, UntypedFormGroup, Validators} from '@angular/forms';\nimport { MarketplaceApiService } from 'src/app/core/marketplace-api/marketplace-api.service';\nimport { CategoryModel } from 'src/app/core/marketplace-api/models/category.model';\nimport { OfferModel } from 'src/app/core/marketplace-api/models/offer.model';\n\n@Component({\n  selector: 'app-offer-creation',\n  templateUrl: './offer-creation.component.html',\n  styleUrls: ['./offer-creation.component.scss']\n})\nexport class OfferCreationComponent implements OnInit {\n\n  // offerForm: UntypedFormGroup;\n\n  @Input()\n  categories: string[];\n  form: FormGroup;\n\n  constructor(private formBuilder: FormBuilder, public markeplaceApiService: MarketplaceApiService) {\n\n  }\n  ngOnInit(): void {\n    this.form = this.formBuilder.group({\n      title: ['', Validators.required],\n      picture: ['', Validators.required],\n      description: ['', Validators.required],\n      location: ['', Validators.required],\n      categoryId: ['', Validators.required]\n    });\n  }\n\n  onSubmit() {\n    const offer =  new OfferModel();\n    if (this.form.valid) {\n      offer.category =  new CategoryModel();\n      offer.categoryId = this.form.value.categoryId;\n      offer.description = this.form.value.description;\n      offer.location = this.form.value.location;\n      offer.pictureUrl = this.form.value.picture;\n      offer.title = this.form.value.title;\n\n      this.markeplaceApiService.addOffer(offer).subscribe({next:(data=>{\n        console.log(data);\n\n      })})\n      console.log(this.form.value);\n    } else {\n      // Mostrar mensajes de error o realizar acciones adicionales\n    }\n    this.markeplaceApiService.addOffer(offer)\n  }\n}\n"],"mappings":"AACA,SAAkDA,UAAU,QAAO,gBAAgB;AAEnF,SAASC,aAAa,QAAQ,oDAAoD;AAClF,SAASC,UAAU,QAAQ,iDAAiD;;;;AAO5E,OAAM,MAAOC,sBAAsB;EAQjCC,YAAoBC,WAAwB,EAASC,oBAA2C;IAA5E,KAAAD,WAAW,GAAXA,WAAW;IAAsB,KAAAC,oBAAoB,GAApBA,oBAAoB;EAEzE;EACAC,QAAQA,CAAA;IACN,IAAI,CAACC,IAAI,GAAG,IAAI,CAACH,WAAW,CAACI,KAAK,CAAC;MACjCC,KAAK,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACW,QAAQ,CAAC;MAChCC,OAAO,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACW,QAAQ,CAAC;MAClCE,WAAW,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACW,QAAQ,CAAC;MACtCG,QAAQ,EAAE,CAAC,EAAE,EAAEd,UAAU,CAACW,QAAQ,CAAC;MACnCI,UAAU,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACW,QAAQ;KACrC,CAAC;EACJ;EAEAK,QAAQA,CAAA;IACN,MAAMC,KAAK,GAAI,IAAIf,UAAU,EAAE;IAC/B,IAAI,IAAI,CAACM,IAAI,CAACU,KAAK,EAAE;MACnBD,KAAK,CAACE,QAAQ,GAAI,IAAIlB,aAAa,EAAE;MACrCgB,KAAK,CAACF,UAAU,GAAG,IAAI,CAACP,IAAI,CAACY,KAAK,CAACL,UAAU;MAC7CE,KAAK,CAACJ,WAAW,GAAG,IAAI,CAACL,IAAI,CAACY,KAAK,CAACP,WAAW;MAC/CI,KAAK,CAACH,QAAQ,GAAG,IAAI,CAACN,IAAI,CAACY,KAAK,CAACN,QAAQ;MACzCG,KAAK,CAACI,UAAU,GAAG,IAAI,CAACb,IAAI,CAACY,KAAK,CAACR,OAAO;MAC1CK,KAAK,CAACP,KAAK,GAAG,IAAI,CAACF,IAAI,CAACY,KAAK,CAACV,KAAK;MAEnC,IAAI,CAACJ,oBAAoB,CAACgB,QAAQ,CAACL,KAAK,CAAC,CAACM,SAAS,CAAC;QAACC,IAAI,EAAEC,IAAI,IAAE;UAC/DC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QAEnB;MAAE,CAAC,CAAC;MACJC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,IAAI,CAACY,KAAK,CAAC;KAC7B,MAAM;MACL;IAAA;IAEF,IAAI,CAACd,oBAAoB,CAACgB,QAAQ,CAACL,KAAK,CAAC;EAC3C;EAAC,QAAAW,CAAA,G;qBAxCUzB,sBAAsB,EAAA0B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,qBAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAtBhC,sBAAsB;IAAAiC,SAAA;IAAAC,MAAA;MAAAC,UAAA;IAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAAC,MAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}